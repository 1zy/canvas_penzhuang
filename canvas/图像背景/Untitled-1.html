<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
</head>

<body>
  <canvas id="canvas" width="800" height="800" ></canvas>
  <canvas id="backCan"></canvas>
  <script>
     var can;
	 var ctx;
	 var pic=new Image();
	 function init(){
		  can=document.getElementById("canvas");
		  ctx=can.getContext("2d");
		  pic.src="2.jpg";
		  pic.onload=function(){
			draw(); 
		  }
		   
		 }
	 document.body.onload=init;
	 function draw(){
		 var se=createBack();
		 var backg=ctx.createPattern(se,"repeat");
		 ctx.fillStyle=backg;
		 ctx.fillRect(0,0,800,800);
		 }
	function createBack(){
		var backcan=document.getElementById("backCan");
		var ctx1=backcan.getContext("2d");
		backcan.width=100;
		backcan.height=100;
		drawStar(backcan,0,20,10,10);
		return backcan;
		}
 function drawStar(ctx,rot,R,x,y){	  
	  ctx.translate(x,y);
	  ctx.rotate(rot/180*Math.PI);
	  ctx.scale(R,R);
	  starPath(ctx);
	
	  ctx.fillStyle="#fb3";
	  ctx.strokeStyle="#fb5";  
	  
	  ctx.fill();
	  ctx.stroke();
	  }
  function starPath(ctx){
		 ctx.beginPath();
	     for(var i=0; i<5;i++){
		   ctx.lineTo(Math.cos((18+72*i)/180*Math.PI),
		   -Math.sin((18+i*72)/180*Math.PI));
		   ctx.lineTo(Math.cos((54+72*i)/180*Math.PI)*0.5,
		   -Math.sin((54+72*i)/180*Math.PI)*0.5);
		   }
		  ctx.closePath();
		}
  </script>
</body>
</html>
