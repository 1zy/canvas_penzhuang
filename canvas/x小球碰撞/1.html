<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
</head>

<body>
  <canvas id="canvas" width="1200" height="800" style="display:block; margin:0 auto; background:#000;"></canvas>
  <script>
     var can;
	 var ctx;
	 var balls=[];
	 var w;
	 var h;
	   window.onload= function (){
			can=document.getElementById("canvas");
			ctx=can.getContext("2d");
			w=can.width;
			h=can.height;				
			
			for(var i=0;i<100;i++){
				  aball={x:Math.random()*w,y:Math.random()*h,
				             r:Math.random()*50+20,
				             R:Math.floor(Math.random()*255),
				             G:Math.floor(Math.random()*255),
				             B:Math.floor(Math.random()*255),
							 vx:(Math.random()*5+5)*Math.pow(-1,Math.floor(Math.random()*100)),//-1的奇数和偶数的次方随机
			                 vy:(Math.random()*5+5)*Math.pow(-1,Math.floor(Math.random()*100)),
				} ;
				    balls[i]=aball;
					draw();
					setInterval(function(){draw();update(w,h)},40);
	 			}
		    	
			 
			}
		function draw(){
			ctx.clearRect(0,0,w,h);
			for(var i=0;i<balls.length;i++){
				var color="rgb("+balls[i].R+","+balls[i].G+","+balls[i].B+")";
				
				ctx.save();
				   ctx.beginPath();
				   ctx.arc(balls[i].x,balls[i].y,balls[i].r,0,Math.PI*2);
				   ctx.fillStyle=color;
				   ctx.fill();
				ctx.restore();
				 
				}
			
			}
		function update(w,h){		
			 for(var i=0;i<balls.length;i++){
				 balls[i].x+=balls[i].vx;
		         balls[i].y+=balls[i].vy;
				  
				 if(balls[i].x-balls[i].r<=0){
					 balls[i].vx=-balls[i].vx;
					 balls[i].x=balls[i].r;					 
					 }
				 if(balls[i].x+balls[i].r>w){
					 balls[i].vx=-balls[i].vx;
					 balls[i].x=w-balls[i].r; 
					 }
				 if(balls[i].y-balls[i].r<=0){
					 balls[i].vy=-balls[i].vy;
					 balls[i].y=h-balls[i].r;
					 }	 
				 if(balls[i].y+balls[i].r>h){
					 balls[i].vy=-balls[i].vy;
					 balls[i].y=h-balls[i].r; 
					 }
				 }
			}
			
			
  </script>
</body>
</html>
